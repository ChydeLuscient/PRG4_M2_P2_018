<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Daftar Tugas</title>
</head>
<body>
  
  <h1>Daftar Tugas - P3_018</h1>
  <!-- Form untuk menambah tugas -->
   <input type="text" id="inputTugas" placeholder="Masukkan tugas">
   <button onclick="tambahTugas()">Tambah Tugas</button>

   <!-- Tombol untuk menampilkan daftar tugas -->
    <button onclick="tampilkanTugas()">Tampilkan Daftar Tugas</button>

    <!-- Daftar Tugas -->
     <ul id="listTugas" style="display: none;"></ul>

  <script>
    // Deklarasi array untuk menyimpan daftar tugas
    let daftarTugas = [];

    // Fungsi untuk menambah tugas
    function tambahTugas( ) {
      const input = document.getElementById('inputTugas');
      const tugas = input.value.trim(); // Menghapus spasi berlebih di awal/akhir input
      
      if (tugas) { // Memastikan input tidak kosong
        daftarTugas.push(tugas);//Menambahkan tugas ke dalam array
        console.log(`Tugas "${tugas}" berhasil di tambahkan.`);
        input.value = ''; //Membersihkan input setelah menambah tugas
        alert(`Tugas "${tugas}" berhasil di tambahkan.`); // Meampilkan notifikasi berhasil
        } else {
          alert("Masukkan tugas yang valid."); // Peringatan jika input kosong
        } 
      }
    
      // Fungsi untuk menampilkan daftar tugas
      function tampilkanTugas() {
        const list = document.getElementById('listTugas');
        list.innerHTML = ''; // Membersihkan daftar sebelum ditampilkan

        if (daftarTugas.length === 0) {
          list.innerHTML = '<li>Tidak ada tugas.</li>'; // Menampilkan pesan jika tidak ada tugas
        } else {
          daftarTugas.forEach((tugas, index) => {
            // Membuat elemen list untuk setiap tugas
            const li = document.createElement('li');
            li.textContent = tugas; // Menghapus penomoran
            const btnHapus = document.createElement('button');
            btnHapus.textContent = 'Hapus';
            btnHapus.style.marginLeft = '10px'; // Menambahkan margin kiri langsung pada tombol
            btnHapus.onclick = () => hapusTugas(index + 1); // Menambahkan fungsi hapus pada tombol
            li.appendChild(btnHapus); // Menambahkan tombol hapus pada setiap tugas
            list.appendChild(li); // Menambahkan tugas ke daftar
          });
        }
        // Tampilksn daftar hanya saat tombol ditekan
        list.style.display = 'block'; 
      }

      // Fungsi untuk menghapus tugas berdasakan indeks
      function hapusTugas(indeks) {
        if (indeks > 0 && indeks <= daftarTugas.length) {
          const tugasTerhapus = daftarTugas.splice(indeks - 1, 1); // Menghapus tugas dari array
          console.log(`Tugas "${tugasTerhapus}" berhasil dihapus.`);
          alert(`Tugas "${tugasTerhapus}" berhasil dihapus.`); // Menampilkan notifikasi berhasil
          tampilkanTugas(); // Memperbarui tampilan daftar tugas setelah penghapusan
        } else {
          alert("Indeks tugas tidak valid."); // Peringatan jika indeks tidak valid
        }
      }

  </script>

</body>
</html>